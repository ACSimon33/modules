###########################################################################
#
# File:        Makefile.in
# Versions:    $Id: Makefile.in,v 1.1 2000/06/28 00:17:33 rk Exp $
# Created:     94/06/18
#
###########################################################################

#### Start of system configuration section. ####

srcdir = @srcdir@
VPATH = @srcdir@

@SET_MAKE@
INSTALL = @INSTALL@
INSTALL_PROGRAM = $(INSTALL) -m 0555
INSTALL_DATA = $(INSTALL) -m 0644

# Standard definition (a'la GNU)
prefix = @prefix@
exec_prefix = @exec_prefix@
man_prefix = @prefix@

# Directory in which to module files
filedir = $(prefix)/modulefiles
versdir = @VERSIONPATH@

SHELL = /bin/sh

#### End of system configuration section. ####

MOD_FILES= modules module-info null use.own dot version

MAKEDIRS= $(filedir) $(versdir)

all:    $(MOD_FILES)

install: all install-dirs
	$(INSTALL_DATA) modules $(filedir)
	$(INSTALL_DATA) module-info $(filedir)
	$(INSTALL_DATA) null  $(filedir)
	$(INSTALL_DATA) use.own $(filedir)
	$(INSTALL_DATA) dot $(filedir)
	$(INSTALL_DATA) version $(versdir)/@VERSION@

install-dirs:
	@for i in $(MAKEDIRS) ; do \
		echo Making $$i... ; \
		parent=`echo $$i | sed -e 's@/[^/]*$$@@' | sed -e 's@^$$@/@'`; \
		if [ -d $$parent ] ; then true ; else mkdir $$parent ; fi ; \
		if [ ! -d $$i ] ; then \
			if mkdir $$i ; then \
				true ; \
			else \
				exit 1 ; \
			fi ; \
		else \
			true ; \
		fi ; \
	done

clean:
	rm -f $(MOD_FILES)

mostlyclean: clean

distclean:	clean
	rm -f Makefile

realclean:	distclean

modules:
	(cd ..; ./config.status)
