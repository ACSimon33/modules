proc module {args} {
   global env; 
   set script {}; 
   if {[catch { set script [eval exec "@TCLSH@" "@MODULESHOME@/modulecmd.tcl" "tcl" $args] } msg]} {
      puts $msg
   }; 
   uplevel $script; 
}

set env(MODULESHOME) @MODULESHOME@

if {![info exists env(LOADEDMODULES)]} {
   set env(LOADEDMODULES) ""
}

if {[file readable @MODULESHOME@/init/modulerc]} {
   source @MODULESHOME@/init/modulerc
}
