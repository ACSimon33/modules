<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">

<!-- This HTML file generated by cxref. -->
<!-- cxref program (c) Andrew M. Bishop 1995,96,97,98,99. -->

<!--
Cxref: cxref -block-comments -verbatim-comments -xref-all -index-all -html -Oxref ModuleCmd_Avail.c
CPP  : gcc -E -C -dD -dI
-->

<HTML>

<HEAD>
<TITLE>Cross reference for ModuleCmd_Avail.c of cxref.</TITLE>
</HEAD>

<BODY>

<h1><a name="file">File ModuleCmd_Avail.c</a></h1>
<pre>
 ** ** Module Header ******************************************************* **
 ** 									     **
 **   Modules Revision 3.0						     **
 **   Providing a flexible user environment				     **
 ** 									     **
 **   File:		ModuleCmd_Avail.c				     **
 **   First Edition:	91/10/23					     **
 ** 									     **
 **   Authors:	John Furlan, jlf@behere.com				     **
 **		Jens Hamisch, jens@Strawberry.COM			     **
 ** 									     **
 **   Description: 	This module command prints out the modulefiles that  **
 **			are available in the directories listed in the	     **
 **			MODULEPATH environment variable.		     **
 ** 									     **
 **   Exports:		ModuleCmd_Avail					     **
 **			print_aligned_files				     **
 **			check_dir					     **
 **			get_dir						     **
 **			dirlst_to_list					     **
 **			delete_dirlst					     **
 **			delete_cache_list				     **
 ** 									     **
 **   Notes:								     **
 ** 									     **
 ** ************************************************************************ **
</pre>

<table>
<tr><td>References Variables:
<td><a href="ModuleCmd_Avail.c.html#var-Id">Id</a><td><a href="ModuleCmd_Avail.c.html#var-Id">ModuleCmd_Avail.c</a>
</table>

<hr>
<h2>Included Files</h2>

<ul>
<li><tt>#include &lt;time.h&gt;</tt>
</ul>
<ul>
<li><tt><a href="modules_def.h.html#file">#include &quot;modules_def.h&quot;</a></tt>
<ul>
<li><tt>#include &lt;stdio.h&gt;</tt>
<li><tt>#include &lt;tcl.h&gt;</tt>
<li><tt><a href="config.h.html#file">#include &quot;config.h&quot;</a></tt>
<li><tt>#include &lt;stdlib.h&gt;</tt>
<li><tt>#include &lt;string.h&gt;</tt>
<li><tt>#include &lt;unistd.h&gt;</tt>
<li><tt>#include &lt;sys/types.h&gt;</tt>
<li><tt>#include &lt;ctype.h&gt;</tt>
<li><tt>#include &lt;sys/stat.h&gt;</tt>
<li><tt>#include &lt;sys/termios.h&gt;</tt>
<li><tt>#include &lt;fcntl.h&gt;</tt>
<li><tt>#include &lt;sys/ioctl.h&gt;</tt>
<li><tt>#include &lt;dirent.h&gt;</tt>
<li><tt>#include &lt;errno.h&gt;</tt>
</ul>
</ul>

<hr>
<h2>Preprocessor definitions</h2>

<tt>#define DIREST 50</tt><br>
<p>
<tt>#define CACHE_VERSION &quot;v3.0.0&quot;</tt><br>
<p>
<tt>#define CACHE_UMASK 0</tt><br>
<p>
<tt>#define FILE_LIST_SEGM_SIZE 100</tt><br>

<hr>
<h2><a name="type-sd_node">Typedef sd_node</a></h2>
<tt>typedef struct _subdir_node sd_node</tt><br>
<table>
<tr><td><tt>struct _subdir_node</tt><td>&nbsp;
<tr><td>&nbsp;&nbsp;&nbsp;<tt>{</tt><td>&nbsp;
<tr><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<tt>fi_ent* sd_dir;</tt><td>&nbsp;
<tr><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<tt>struct _subdir_node* sd_next;</tt><td>&nbsp;
<tr><td>&nbsp;&nbsp;&nbsp;<tt>}</tt><td>&nbsp;
</table>

<hr>
<h2><a name="var-long_header">Global Variable long_header</a></h2>
<tt>char long_header[]</tt><br>
<table>
<tr><td>Visible in:
<td>&nbsp;<td><a href="ModuleCmd_Avail.c.html#file">ModuleCmd_Avail.c</a>
<tr><td>&nbsp;
<td>&nbsp;<td><a href="ModuleCmd_Clear.c.html#file">ModuleCmd_Clear.c</a>
<tr><td>&nbsp;
<td>&nbsp;<td><a href="ModuleCmd_Display.c.html#file">ModuleCmd_Display.c</a>
<tr><td>&nbsp;
<td>&nbsp;<td><a href="ModuleCmd_Help.c.html#file">ModuleCmd_Help.c</a>
<tr><td>&nbsp;
<td>&nbsp;<td><a href="ModuleCmd_Init.c.html#file">ModuleCmd_Init.c</a>
<tr><td>&nbsp;
<td>&nbsp;<td><a href="ModuleCmd_List.c.html#file">ModuleCmd_List.c</a>
<tr><td>&nbsp;
<td>&nbsp;<td><a href="ModuleCmd_Load.c.html#file">ModuleCmd_Load.c</a>
<tr><td>&nbsp;
<td>&nbsp;<td><a href="ModuleCmd_Purge.c.html#file">ModuleCmd_Purge.c</a>
<tr><td>&nbsp;
<td>&nbsp;<td><a href="ModuleCmd_Switch.c.html#file">ModuleCmd_Switch.c</a>
<tr><td>&nbsp;
<td>&nbsp;<td><a href="ModuleCmd_Update.c.html#file">ModuleCmd_Update.c</a>
<tr><td>&nbsp;
<td>&nbsp;<td><a href="ModuleCmd_Use.c.html#file">ModuleCmd_Use.c</a>
<tr><td>&nbsp;
<td>&nbsp;<td><a href="ModuleCmd_Whatis.c.html#file">ModuleCmd_Whatis.c</a>
<tr><td>&nbsp;
<td>&nbsp;<td><a href="cmdAlias.c.html#file">cmdAlias.c</a>
<tr><td>&nbsp;
<td>&nbsp;<td><a href="cmdConflict.c.html#file">cmdConflict.c</a>
<tr><td>&nbsp;
<td>&nbsp;<td><a href="cmdInfo.c.html#file">cmdInfo.c</a>
<tr><td>&nbsp;
<td>&nbsp;<td><a href="cmdIsLoaded.c.html#file">cmdIsLoaded.c</a>
<tr><td>&nbsp;
<td>&nbsp;<td><a href="cmdLog.c.html#file">cmdLog.c</a>
<tr><td>&nbsp;
<td>&nbsp;<td><a href="cmdMisc.c.html#file">cmdMisc.c</a>
<tr><td>&nbsp;
<td>&nbsp;<td><a href="cmdModule.c.html#file">cmdModule.c</a>
<tr><td>&nbsp;
<td>&nbsp;<td><a href="cmdPath.c.html#file">cmdPath.c</a>
<tr><td>&nbsp;
<td>&nbsp;<td><a href="cmdSetenv.c.html#file">cmdSetenv.c</a>
<tr><td>&nbsp;
<td>&nbsp;<td><a href="cmdTrace.c.html#file">cmdTrace.c</a>
<tr><td>&nbsp;
<td>&nbsp;<td><a href="cmdUlvl.c.html#file">cmdUlvl.c</a>
<tr><td>&nbsp;
<td>&nbsp;<td><a href="cmdUname.c.html#file">cmdUname.c</a>
<tr><td>&nbsp;
<td>&nbsp;<td><a href="cmdVerbose.c.html#file">cmdVerbose.c</a>
<tr><td>&nbsp;
<td>&nbsp;<td><a href="cmdVersion.c.html#file">cmdVersion.c</a>
<tr><td>&nbsp;
<td>&nbsp;<td><a href="cmdWhatis.c.html#file">cmdWhatis.c</a>
<tr><td>&nbsp;
<td>&nbsp;<td><a href="cmdXResource.c.html#file">cmdXResource.c</a>
<tr><td>&nbsp;
<td>&nbsp;<td><a href="error.c.html#file">error.c</a>
<tr><td>&nbsp;
<td>&nbsp;<td><a href="getopt.c.html#file">getopt.c</a>
<tr><td>&nbsp;
<td>&nbsp;<td><a href="init.c.html#file">init.c</a>
<tr><td>&nbsp;
<td>&nbsp;<td><a href="locate_module.c.html#file">locate_module.c</a>
<tr><td>&nbsp;
<td>&nbsp;<td><a href="main.c.html#file">main.c</a>
<tr><td>&nbsp;
<td>&nbsp;<td><a href="utility.c.html#file">utility.c</a>
<tr><td>Used in:
<td><a href="ModuleCmd_Avail.c.html#func-ModuleCmd_Avail">ModuleCmd_Avail()</a><td><a href="ModuleCmd_Avail.c.html#func-ModuleCmd_Avail">ModuleCmd_Avail.c</a>
<tr><td>&nbsp;
<td><a href="ModuleCmd_List.c.html#func-ModuleCmd_List">ModuleCmd_List()</a><td><a href="ModuleCmd_List.c.html#func-ModuleCmd_List">ModuleCmd_List.c</a>

</table>

<hr>
<h2>Local Variables</h2>

<b><a name="var-Id">Id</a></b><br>
<tt>static char Id[]</tt><br>
<table>
<tr><td>Used in:
<td>&nbsp;<td><a href="ModuleCmd_Avail.c.html#file">ModuleCmd_Avail.c</a>

</table>
<p>
<b><a name="var-UseId">UseId</a></b><br>
<tt>static void* UseId[]</tt><br>
<p>
<b><a name="var-namebuf">namebuf</a></b><br>
<tt>static char* namebuf</tt><br>
<table>
<tr><td>Used in:
<td><a href="#func-ModuleCmd_Avail">ModuleCmd_Avail()</a>
<tr><td>&nbsp;
<td><a href="#func-check_cache">check_cache()</a>
<tr><td>&nbsp;
<td><a href="#func-print_dir">print_dir()</a>
<tr><td>&nbsp;
<td><a href="#func-store_files">store_files()</a>

</table>
<p>
<b><a name="var-buf">buf</a></b><br>
<tt>static char buf[8192]</tt><br>
<table>
<tr><td>Used in:
<td><a href="#func-check_cache">check_cache()</a>
<tr><td>&nbsp;
<td><a href="#func-create_cache_list">create_cache_list()</a>
<tr><td>&nbsp;
<td><a href="#func-dirlst_to_list">dirlst_to_list()</a>

</table>
<p>
<b><a name="var-module_name">module_name</a></b><br>
<tt>static char module_name[]</tt><br>
<table>
<tr><td>Used in:
<td><a href="#func-ModuleCmd_Avail">ModuleCmd_Avail()</a>
<tr><td>&nbsp;
<td><a href="#func-_add_file_list">_add_file_list()</a>
<tr><td>&nbsp;
<td><a href="#func-check_cache">check_cache()</a>
<tr><td>&nbsp;
<td><a href="#func-check_dir">check_dir()</a>
<tr><td>&nbsp;
<td><a href="#func-create_cache_list">create_cache_list()</a>
<tr><td>&nbsp;
<td><a href="#func-dirlst_to_list">dirlst_to_list()</a>
<tr><td>&nbsp;
<td><a href="#func-get_dir">get_dir()</a>
<tr><td>&nbsp;
<td><a href="#func-mkdirnm">mkdirnm()</a>
<tr><td>&nbsp;
<td><a href="#func-print_aligned_files">print_aligned_files()</a>
<tr><td>&nbsp;
<td><a href="#func-print_dir">print_dir()</a>
<tr><td>&nbsp;
<td><a href="#func-store_files">store_files()</a>

</table>
<p>
<b><a name="var-short_format">short_format</a></b><br>
<tt>static char short_format[]</tt><br>
<table>
<tr><td>Used in:
<td><a href="#func-print_aligned_files">print_aligned_files()</a>

</table>
<p>
<b><a name="var-short_format_part">short_format_part</a></b><br>
<tt>static char short_format_part[]</tt><br>
<table>
<tr><td>Used in:
<td><a href="#func-print_aligned_files">print_aligned_files()</a>

</table>
<p>
<b><a name="var-short_format_full">short_format_full</a></b><br>
<tt>static char short_format_full[]</tt><br>
<table>
<tr><td>Used in:
<td><a href="#func-print_aligned_files">print_aligned_files()</a>

</table>
<p>
<b><a name="var-long_format">long_format</a></b><br>
<tt>static char long_format[]</tt><br>
<table>
<tr><td>Used in:
<td><a href="#func-print_aligned_files">print_aligned_files()</a>

</table>
<p>
<b><a name="var-_file_list_buffer">_file_list_buffer</a></b><br>
<tt>static char _file_list_buffer[200]</tt><br>
<table>
<tr><td>Used in:
<td><a href="#func-print_aligned_files">print_aligned_files()</a>

</table>
<p>
<b><a name="var-_file_list_ptr">_file_list_ptr</a></b><br>
<tt>static char** _file_list_ptr</tt><br>
<table>
<tr><td>Used in:
<td><a href="#func-_add_file_list">_add_file_list()</a>
<tr><td>&nbsp;
<td><a href="#func-_get_file_list">_get_file_list()</a>
<tr><td>&nbsp;
<td><a href="#func-_init_file_list">_init_file_list()</a>
<tr><td>&nbsp;
<td><a href="#func-_pick_file_list">_pick_file_list()</a>

</table>
<p>
<b><a name="var-_file_list_cnt">_file_list_cnt</a></b><br>
<tt>static int _file_list_cnt</tt><br>
<table>
<tr><td>Used in:
<td><a href="#func-_add_file_list">_add_file_list()</a>
<tr><td>&nbsp;
<td><a href="#func-_init_file_list">_init_file_list()</a>

</table>
<p>
<b><a name="var-_file_list_wr_ndx">_file_list_wr_ndx</a></b><br>
<tt>static int _file_list_wr_ndx</tt><br>
<table>
<tr><td>Used in:
<td><a href="#func-_add_file_list">_add_file_list()</a>
<tr><td>&nbsp;
<td><a href="#func-_get_file_list">_get_file_list()</a>
<tr><td>&nbsp;
<td><a href="#func-_init_file_list">_init_file_list()</a>
<tr><td>&nbsp;
<td><a href="#func-_pick_file_list">_pick_file_list()</a>
<tr><td>&nbsp;
<td><a href="#func-print_aligned_files">print_aligned_files()</a>
<tr><td>&nbsp;
<td><a href="#func-print_terse_files">print_terse_files()</a>

</table>
<p>
<b><a name="var-_file_list_rd_ndx">_file_list_rd_ndx</a></b><br>
<tt>static int _file_list_rd_ndx</tt><br>
<table>
<tr><td>Used in:
<td><a href="#func-_add_file_list">_add_file_list()</a>
<tr><td>&nbsp;
<td><a href="#func-_get_file_list">_get_file_list()</a>
<tr><td>&nbsp;
<td><a href="#func-_init_file_list">_init_file_list()</a>

</table>

<hr>
<h2><a name="func-ModuleCmd_Avail">Global Function ModuleCmd_Avail()</a></h2>
<pre>
 ** ** Function-Header ***************************************************** **
 ** 									     **
 **   Function:		ModuleCmd_Avail					     **
 ** 									     **
 **   Description:	Execution of the 'module avail' command		     **
 ** 									     **
 **   First Edition:	91/10/23					     **
 ** 									     **
 **   Parameters:	Tcl_Interp	*interp		Current Tcl Interpr. **
 **			char		*argv[]		Arguments to the     **
 **							command		     **
 ** 									     **
 **   Result:		int	TCL_OK		Successfull operation	     **
 **				TCL_ERROR	Any failure		     **
 ** 									     **
 **   Attached Globals:	specified_module	The module name from the     **
 **						command line.		     **
 ** 									     **
 ** ************************************************************************ **
</pre>

<tt>int ModuleCmd_Avail ( Tcl_Interp* interp, int argc, char* argv[] )</tt><br>
<table>
<tr><td>Prototyped in:
<td colspan=2><a href="modules_def.h.html#file">modules_def.h</a>
<tr><td>Calls:
<td><a href="error.c.html#func-Module_Error">Module_Error()</a><td><a href="error.c.html#func-Module_Error">error.c</a>
<tr><td>&nbsp;
<td><a href="ModuleCmd_Avail.c.html#func-check_dir">check_dir()</a><td><a href="ModuleCmd_Avail.c.html#func-check_dir">ModuleCmd_Avail.c</a>
<tr><td>&nbsp;
<td><a href="ModuleCmd_Avail.c.html#func-print_dir">print_dir()</a><td><a href="ModuleCmd_Avail.c.html#func-print_dir">ModuleCmd_Avail.c</a>
<tr><td>&nbsp;
<td><a href="utility.c.html#func-xgetenv">xgetenv()</a><td><a href="utility.c.html#func-xgetenv">utility.c</a>
<tr><td>&nbsp;
<td colspan=2>fprintf(), malloc(), strchr()
<tr><td>Called by:
<td><a href="cmdModule.c.html#func-cmdModule">cmdModule()</a><td><a href="cmdModule.c.html#func-cmdModule">cmdModule.c</a>
<tr><td>References Variables:
<td><a href="ModuleCmd_Avail.c.html#var-long_header">long_header</a><td><a href="ModuleCmd_Avail.c.html#var-long_header">ModuleCmd_Avail.c</a>
<tr><td>&nbsp;
<td><a href="ModuleCmd_Avail.c.html#var-module_name">module_name</a><td><a href="ModuleCmd_Avail.c.html#var-module_name">ModuleCmd_Avail.c</a>
<tr><td>&nbsp;
<td><a href="ModuleCmd_Avail.c.html#var-namebuf">namebuf</a><td><a href="ModuleCmd_Avail.c.html#var-namebuf">ModuleCmd_Avail.c</a>
<tr><td>&nbsp;
<td><a href="main.c.html#var-specified_module">specified_module</a><td><a href="main.c.html#var-specified_module">main.c</a>
<tr><td>&nbsp;
<td><a href="main.c.html#var-sw_format">sw_format</a><td><a href="main.c.html#var-sw_format">main.c</a>

</table>

<hr>
<h2><a name="func-check_dir">Global Function check_dir()</a></h2>
<pre>
 ** ** Function-Header ***************************************************** **
 ** 									     **
 **   Function:		check_dir					     **
 ** 									     **
 **   Description:	Open and close the passed directory in order to check**
 **			if it does exist and is readable		     **
 ** 									     **
 **   First Edition:	91/10/23					     **
 ** 									     **
 **   Parameters:	char	*dirname	Name of the directory to be  **
 **						checked			     **
 ** 									     **
 **   Result:		int	0	Not a directory or unreadable	     **
 **				1	OK				     **
 ** 									     **
 **   Attached Globals:	-						     **
 ** 									     **
 ** ************************************************************************ **
</pre>

<tt>int check_dir ( char* dirname )</tt><br>
<table>
<tr><td>Prototyped in:
<td colspan=2><a href="modules_def.h.html#file">modules_def.h</a>
<tr><td>Calls:
<td><a href="error.c.html#func-Module_Error">Module_Error()</a><td><a href="error.c.html#func-Module_Error">error.c</a>
<tr><td>&nbsp;
<td colspan=2>closedir(), opendir()
<tr><td>Called by:
<td><a href="ModuleCmd_Whatis.c.html#func-ModuleCmd_Apropos">ModuleCmd_Apropos()</a><td><a href="ModuleCmd_Whatis.c.html#func-ModuleCmd_Apropos">ModuleCmd_Whatis.c</a>
<tr><td>&nbsp;
<td><a href="ModuleCmd_Avail.c.html#func-ModuleCmd_Avail">ModuleCmd_Avail()</a><td><a href="ModuleCmd_Avail.c.html#func-ModuleCmd_Avail">ModuleCmd_Avail.c</a>
<tr><td>&nbsp;
<td><a href="ModuleCmd_Whatis.c.html#func-ModuleCmd_Whatis">ModuleCmd_Whatis()</a><td><a href="ModuleCmd_Whatis.c.html#func-ModuleCmd_Whatis">ModuleCmd_Whatis.c</a>
<tr><td>References Variables:
<td><a href="ModuleCmd_Avail.c.html#var-module_name">module_name</a><td><a href="ModuleCmd_Avail.c.html#var-module_name">ModuleCmd_Avail.c</a>

</table>

<hr>
<h2><a name="func-delete_cache_list">Global Function delete_cache_list()</a></h2>
<pre>
 ** ** Function-Header ***************************************************** **
 ** 									     **
 **   Function:		delete_cache_list				     **
 ** 									     **
 **   Description:	Remove an entire list of allocated strings and free  **
 **			up the used memory				     **
 ** 									     **
 **   First Edition:	91/10/23					     **
 ** 									     **
 **   Parameters:	char	**list		List of filenames to be print**
 **			int	  tcount	Size ofd the list in elements**
 ** 									     **
 **   Result:		-						     **
 ** 									     **
 **   Attached Globals:	-						     **
 ** 									     **
 ** ************************************************************************ **
</pre>

<tt>void delete_cache_list ( char** list, int tcount )</tt><br>
<table>
<tr><td>Prototyped in:
<td colspan=2><a href="modules_def.h.html#file">modules_def.h</a>
<tr><td>Called by:
<td><a href="ModuleCmd_Avail.c.html#func-print_dir">print_dir()</a><td><a href="ModuleCmd_Avail.c.html#func-print_dir">ModuleCmd_Avail.c</a>
<tr><td>&nbsp;
<td><a href="ModuleCmd_Whatis.c.html#func-whatis_dir">whatis_dir()</a><td><a href="ModuleCmd_Whatis.c.html#func-whatis_dir">ModuleCmd_Whatis.c</a>

</table>

<hr>
<h2><a name="func-delete_dirlst">Global Function delete_dirlst()</a></h2>
<pre>
 ** ** Function-Header ***************************************************** **
 ** 									     **
 **   Function:		delete_dirlst					     **
 ** 									     **
 **   Description:	Delete an entire directory list including all sub-   **
 **			directory lists					     **
 ** 									     **
 **   First Edition:	91/10/23					     **
 ** 									     **
 **   Parameters:	fi_ent	*dirlst_head	Head of the list to be re-   **
 **						moved			     **
 ** 									     **
 **   Result:		-						     **
 ** 									     **
 **   Attached Globals:	-						     **
 ** 									     **
 ** ************************************************************************ **
</pre>

<tt>void delete_dirlst ( fi_ent* dirlst_head, int count )</tt><br>
<table>
<tr><td>Prototyped in:
<td colspan=2><a href="modules_def.h.html#file">modules_def.h</a>
<tr><td>Calls:
<td><a href="ModuleCmd_Avail.c.html#func-delete_dirlst">delete_dirlst()</a><td><a href="ModuleCmd_Avail.c.html#func-delete_dirlst">ModuleCmd_Avail.c</a>
<tr><td>Called by:
<td><a href="ModuleCmd_Avail.c.html#func-delete_dirlst">delete_dirlst()</a><td><a href="ModuleCmd_Avail.c.html#func-delete_dirlst">ModuleCmd_Avail.c</a>
<tr><td>&nbsp;
<td><a href="ModuleCmd_Avail.c.html#func-print_dir">print_dir()</a><td><a href="ModuleCmd_Avail.c.html#func-print_dir">ModuleCmd_Avail.c</a>
<tr><td>&nbsp;
<td><a href="ModuleCmd_Whatis.c.html#func-whatis_dir">whatis_dir()</a><td><a href="ModuleCmd_Whatis.c.html#func-whatis_dir">ModuleCmd_Whatis.c</a>

</table>

<hr>
<h2><a name="func-dirlst_to_list">Global Function dirlst_to_list()</a></h2>
<pre>
 ** ** Function-Header ***************************************************** **
 ** 									     **
 **   Function:		dirlst_to_list					     **
 ** 									     **
 **   Description:	Transform the passed nested directory list into a    **
 **			flat list of strings				     **
 ** 									     **
 **   First Edition:	91/10/23					     **
 ** 									     **
 **   Parameters:	char	**list		List to be created	     **
 **			fi_ent	 *dirlst_head	Head of the directory list   **
 **						to be transformed	     **
 **			int	  count		Number of elements in the    **
 **						directory list		     **
 **			int	 *beginning	Index of the element in List **
 **						to start appending the file- **
 **						names at.		     **
 **			char	 *path		prepend pathname to list     **
 **			char	 *module	A search pattern	     **
 **									     **
 **   Result:		-						     **
 ** 									     **
 **   Attached Globals:	-						     **
 ** 									     **
 ** ************************************************************************ **
</pre>

<tt>void dirlst_to_list ( char** list, fi_ent* dirlst_head, int count, int* beginning, char* path, char* module )</tt><br>
<table>
<tr><td>Prototyped in:
<td colspan=2><a href="modules_def.h.html#file">modules_def.h</a>
<tr><td>Calls:
<td><a href="error.c.html#func-Module_Error">Module_Error()</a><td><a href="error.c.html#func-Module_Error">error.c</a>
<tr><td>&nbsp;
<td><a href="ModuleCmd_Avail.c.html#func-dirlst_to_list">dirlst_to_list()</a><td><a href="ModuleCmd_Avail.c.html#func-dirlst_to_list">ModuleCmd_Avail.c</a>
<tr><td>&nbsp;
<td colspan=2>strcat(), strcpy(), strdup(), strlen(), strncmp()
<tr><td>Called by:
<td><a href="ModuleCmd_Avail.c.html#func-dirlst_to_list">dirlst_to_list()</a><td><a href="ModuleCmd_Avail.c.html#func-dirlst_to_list">ModuleCmd_Avail.c</a>
<tr><td>&nbsp;
<td><a href="ModuleCmd_Avail.c.html#func-print_dir">print_dir()</a><td><a href="ModuleCmd_Avail.c.html#func-print_dir">ModuleCmd_Avail.c</a>
<tr><td>&nbsp;
<td><a href="ModuleCmd_Whatis.c.html#func-whatis_dir">whatis_dir()</a><td><a href="ModuleCmd_Whatis.c.html#func-whatis_dir">ModuleCmd_Whatis.c</a>
<tr><td>References Variables:
<td><a href="ModuleCmd_Avail.c.html#var-buf">buf</a><td><a href="ModuleCmd_Avail.c.html#var-buf">ModuleCmd_Avail.c</a>
<tr><td>&nbsp;
<td><a href="ModuleCmd_Avail.c.html#var-module_name">module_name</a><td><a href="ModuleCmd_Avail.c.html#var-module_name">ModuleCmd_Avail.c</a>

</table>

<hr>
<h2><a name="func-get_dir">Global Function get_dir()</a></h2>
<pre>
 ** ** Function-Header ***************************************************** **
 ** 									     **
 **   Function:		get_dir						     **
 ** 									     **
 **   Description:	Read in the passed directory and save every interes- **
 **			ting item in the directory list			     **
 ** 									     **
 **   First Edition:	91/10/23					     **
 ** 									     **
 **   Parameters:	char	*dir		Directory to be read	     **
 **			char	*prefix		Directory prefix (path)	     **
 **			int	*listcount	Buffer to store the number of**
 **						elements in the current      **
 **						directory list		     **
 **			int 	*total_count	Buffer for the total number  **
 **						of files read		     **
 ** 									     **
 **   Result:		fi_ent*		NULL	Failure			     **
 **					else	Directory list base pointer  **
 **			*listcount		Number of elements in the    **
 **						top level directory list     **
 **			*total_count		Total number of files read   **
 ** 									     **
 **   Attached Globals:	-						     **
 ** 									     **
 ** ************************************************************************ **
</pre>

<tt>fi_ent* get_dir ( char* dir, char* prefix, int* listcount, int* total_count )</tt><br>
<table>
<tr><td>Prototyped in:
<td colspan=2><a href="modules_def.h.html#file">modules_def.h</a>
<tr><td>Calls:
<td><a href="error.c.html#func-Module_Error">Module_Error()</a><td><a href="error.c.html#func-Module_Error">error.c</a>
<tr><td>&nbsp;
<td><a href="utility.c.html#func-check_magic">check_magic()</a><td><a href="utility.c.html#func-check_magic">utility.c</a>
<tr><td>&nbsp;
<td><a href="ModuleCmd_Avail.c.html#func-get_dir">get_dir()</a><td><a href="ModuleCmd_Avail.c.html#func-get_dir">ModuleCmd_Avail.c</a>
<tr><td>&nbsp;
<td><a href="ModuleCmd_Avail.c.html#func-mkdirnm">mkdirnm()</a><td><a href="ModuleCmd_Avail.c.html#func-mkdirnm">ModuleCmd_Avail.c</a>
<tr><td>&nbsp;
<td colspan=2>calloc(), closedir(), opendir(), qsort(), readdir(), realloc(), stat(), strdup(), strlen()
<tr><td>Called by:
<td><a href="ModuleCmd_Avail.c.html#func-get_dir">get_dir()</a><td><a href="ModuleCmd_Avail.c.html#func-get_dir">ModuleCmd_Avail.c</a>
<tr><td>&nbsp;
<td><a href="ModuleCmd_Avail.c.html#func-print_dir">print_dir()</a><td><a href="ModuleCmd_Avail.c.html#func-print_dir">ModuleCmd_Avail.c</a>
<tr><td>&nbsp;
<td><a href="ModuleCmd_Whatis.c.html#func-whatis_dir">whatis_dir()</a><td><a href="ModuleCmd_Whatis.c.html#func-whatis_dir">ModuleCmd_Whatis.c</a>
<tr><td>References Functions:
<td><a href="ModuleCmd_Avail.c.html#func-fi_ent_cmp">fi_ent_cmp()</a><td><a href="ModuleCmd_Avail.c.html#func-fi_ent_cmp">ModuleCmd_Avail.c</a>
<tr><td>References Variables:
<td><a href="ModuleCmd_Avail.c.html#var-module_name">module_name</a><td><a href="ModuleCmd_Avail.c.html#var-module_name">ModuleCmd_Avail.c</a>

</table>

<hr>
<h2><a name="func-print_aligned_files">Global Function print_aligned_files()</a></h2>
<pre>
 ** ** Function-Header ***************************************************** **
 ** 									     **
 **   Function:		print_aligned_files				     **
 ** 									     **
 **   Description:	Print out the filenames passed in a sorted array     **
 **			column by column taking care of the order being re-  **
 **			flected to the single columns			     **
 ** 									     **
 **   First Edition:	91/10/23					     **
 ** 									     **
 **   Parameters:	char	**list		List of filenames to print   **
 **			char	 *path		common path		     **
 **			char	 *header	List header		     **
 **			int	  tcount	Size of the list in elements **
 **			int	  numbered	Controls printing of numbers **
 ** 						set to -1 for none	     **
 ** 									     **
 **   Result:		-						     **
 ** 									     **
 **   Attached Globals:	g_current_module	The module which is handled  **
 **						by the current command	     **
 ** 									     **
 ** ************************************************************************ **
</pre>

<tt>void print_aligned_files ( Tcl_Interp* interp, char* path, char* header, char** list, int tcount, int numbered )</tt><br>
<table>
<tr><td>Prototyped in:
<td colspan=2><a href="modules_def.h.html#file">modules_def.h</a>
<tr><td>Calls:
<td><a href="cmdVersion.c.html#func-ExpandVersions">ExpandVersions()</a><td><a href="cmdVersion.c.html#func-ExpandVersions">cmdVersion.c</a>
<tr><td>&nbsp;
<td><a href="locate_module.c.html#func-Locate_ModuleFile">Locate_ModuleFile()</a><td><a href="locate_module.c.html#func-Locate_ModuleFile">locate_module.c</a>
<tr><td>&nbsp;
<td><a href="error.c.html#func-Module_Error">Module_Error()</a><td><a href="error.c.html#func-Module_Error">error.c</a>
<tr><td>&nbsp;
<td><a href="locate_module.c.html#func-SourceRC">SourceRC()</a><td><a href="locate_module.c.html#func-SourceRC">locate_module.c</a>
<tr><td>&nbsp;
<td><a href="locate_module.c.html#func-SourceVers">SourceVers()</a><td><a href="locate_module.c.html#func-SourceVers">locate_module.c</a>
<tr><td>&nbsp;
<td><a href="ModuleCmd_Avail.c.html#func-_add_file_list">_add_file_list()</a><td><a href="ModuleCmd_Avail.c.html#func-_add_file_list">ModuleCmd_Avail.c</a>
<tr><td>&nbsp;
<td><a href="ModuleCmd_Avail.c.html#func-_init_file_list">_init_file_list()</a><td><a href="ModuleCmd_Avail.c.html#func-_init_file_list">ModuleCmd_Avail.c</a>
<tr><td>&nbsp;
<td><a href="ModuleCmd_Avail.c.html#func-print_terse_files">print_terse_files()</a><td><a href="ModuleCmd_Avail.c.html#func-print_terse_files">ModuleCmd_Avail.c</a>
<tr><td>&nbsp;
<td><a href="utility.c.html#func-xgetenv">xgetenv()</a><td><a href="utility.c.html#func-xgetenv">utility.c</a>
<tr><td>&nbsp;
<td colspan=2>fileno(), fprintf(), gmtime(), ioctl(), isatty(), sprintf(), stat(), strchr(), strdup(), strlen(), strncmp(), strrchr()
<tr><td>Called by:
<td><a href="ModuleCmd_List.c.html#func-ModuleCmd_List">ModuleCmd_List()</a><td><a href="ModuleCmd_List.c.html#func-ModuleCmd_List">ModuleCmd_List.c</a>
<tr><td>&nbsp;
<td><a href="ModuleCmd_Avail.c.html#func-print_dir">print_dir()</a><td><a href="ModuleCmd_Avail.c.html#func-print_dir">ModuleCmd_Avail.c</a>
<tr><td>References Variables:
<td><a href="ModuleCmd_Avail.c.html#var-_file_list_buffer">_file_list_buffer</a><td><a href="ModuleCmd_Avail.c.html#var-_file_list_buffer">ModuleCmd_Avail.c</a>
<tr><td>&nbsp;
<td><a href="ModuleCmd_Avail.c.html#var-_file_list_wr_ndx">_file_list_wr_ndx</a><td><a href="ModuleCmd_Avail.c.html#var-_file_list_wr_ndx">ModuleCmd_Avail.c</a>
<tr><td>&nbsp;
<td><a href="main.c.html#var-g_current_module">g_current_module</a><td><a href="main.c.html#var-g_current_module">main.c</a>
<tr><td>&nbsp;
<td><a href="ModuleCmd_Avail.c.html#var-long_format">long_format</a><td><a href="ModuleCmd_Avail.c.html#var-long_format">ModuleCmd_Avail.c</a>
<tr><td>&nbsp;
<td><a href="ModuleCmd_Avail.c.html#var-module_name">module_name</a><td><a href="ModuleCmd_Avail.c.html#var-module_name">ModuleCmd_Avail.c</a>
<tr><td>&nbsp;
<td><a href="main.c.html#var-modulerc_file">modulerc_file</a><td><a href="main.c.html#var-modulerc_file">main.c</a>
<tr><td>&nbsp;
<td><a href="ModuleCmd_Avail.c.html#var-short_format">short_format</a><td><a href="ModuleCmd_Avail.c.html#var-short_format">ModuleCmd_Avail.c</a>
<tr><td>&nbsp;
<td><a href="ModuleCmd_Avail.c.html#var-short_format_full">short_format_full</a><td><a href="ModuleCmd_Avail.c.html#var-short_format_full">ModuleCmd_Avail.c</a>
<tr><td>&nbsp;
<td><a href="ModuleCmd_Avail.c.html#var-short_format_part">short_format_part</a><td><a href="ModuleCmd_Avail.c.html#var-short_format_part">ModuleCmd_Avail.c</a>
<tr><td>&nbsp;
<td><a href="main.c.html#var-sw_format">sw_format</a><td><a href="main.c.html#var-sw_format">main.c</a>

</table>

<hr>
<h2><a name="func-_add_file_list">Local Function _add_file_list()</a></h2>
<tt>static void _add_file_list ( char* name )</tt><br>
<table>
<tr><td>Prototyped in:
<td colspan=2><a href="ModuleCmd_Avail.c.html#file">ModuleCmd_Avail.c</a>
<tr><td>Calls:
<td><a href="error.c.html#func-Module_Error">Module_Error()</a><td><a href="error.c.html#func-Module_Error">error.c</a>
<tr><td>&nbsp;
<td colspan=2>malloc(), realloc(), strdup()
<tr><td>Called by:
<td><a href="ModuleCmd_Avail.c.html#func-print_aligned_files">print_aligned_files()</a><td><a href="ModuleCmd_Avail.c.html#func-print_aligned_files">ModuleCmd_Avail.c</a>
<tr><td>References Variables:
<td><a href="ModuleCmd_Avail.c.html#var-_file_list_cnt">_file_list_cnt</a><td><a href="ModuleCmd_Avail.c.html#var-_file_list_cnt">ModuleCmd_Avail.c</a>
<tr><td>&nbsp;
<td><a href="ModuleCmd_Avail.c.html#var-_file_list_ptr">_file_list_ptr</a><td><a href="ModuleCmd_Avail.c.html#var-_file_list_ptr">ModuleCmd_Avail.c</a>
<tr><td>&nbsp;
<td><a href="ModuleCmd_Avail.c.html#var-_file_list_rd_ndx">_file_list_rd_ndx</a><td><a href="ModuleCmd_Avail.c.html#var-_file_list_rd_ndx">ModuleCmd_Avail.c</a>
<tr><td>&nbsp;
<td><a href="ModuleCmd_Avail.c.html#var-_file_list_wr_ndx">_file_list_wr_ndx</a><td><a href="ModuleCmd_Avail.c.html#var-_file_list_wr_ndx">ModuleCmd_Avail.c</a>
<tr><td>&nbsp;
<td><a href="ModuleCmd_Avail.c.html#var-module_name">module_name</a><td><a href="ModuleCmd_Avail.c.html#var-module_name">ModuleCmd_Avail.c</a>

</table>

<hr>
<h2><a name="func-_get_file_list">Local Function _get_file_list()</a></h2>
<tt>static char* _get_file_list ( void )</tt><br>
<table>
<tr><td>Prototyped in:
<td colspan=2><a href="ModuleCmd_Avail.c.html#file">ModuleCmd_Avail.c</a>
<tr><td>Called by:
<td><a href="ModuleCmd_Avail.c.html#func-print_terse_files">print_terse_files()</a><td><a href="ModuleCmd_Avail.c.html#func-print_terse_files">ModuleCmd_Avail.c</a>
<tr><td>References Variables:
<td><a href="ModuleCmd_Avail.c.html#var-_file_list_ptr">_file_list_ptr</a><td><a href="ModuleCmd_Avail.c.html#var-_file_list_ptr">ModuleCmd_Avail.c</a>
<tr><td>&nbsp;
<td><a href="ModuleCmd_Avail.c.html#var-_file_list_rd_ndx">_file_list_rd_ndx</a><td><a href="ModuleCmd_Avail.c.html#var-_file_list_rd_ndx">ModuleCmd_Avail.c</a>
<tr><td>&nbsp;
<td><a href="ModuleCmd_Avail.c.html#var-_file_list_wr_ndx">_file_list_wr_ndx</a><td><a href="ModuleCmd_Avail.c.html#var-_file_list_wr_ndx">ModuleCmd_Avail.c</a>

</table>

<hr>
<h2><a name="func-_init_file_list">Local Function _init_file_list()</a></h2>
<pre>
 ** ** Function-Header ***************************************************** **
 ** 									     **
 **   Function:		_add_file_list   				     **
 **			_init_file_list					     **
 **			_get_file_list					     **
 **			_pick_file_list					     **
 ** 									     **
 **   Description:	File list functions for terse module display mode    **
 ** 									     **
 **   First Edition:	91/10/23					     **
 ** 									     **
 **   Parameters:	char	*name		Name to be stored	     **
 ** 									     **
 **   Result:		-						     **
 ** 									     **
 **   Attached Globals:	-						     **
 ** 									     **
 ** ************************************************************************ **
</pre>

<tt>static void _init_file_list ( void )</tt><br>
<table>
<tr><td>Prototyped in:
<td colspan=2><a href="ModuleCmd_Avail.c.html#file">ModuleCmd_Avail.c</a>
<tr><td>Called by:
<td><a href="ModuleCmd_Avail.c.html#func-print_aligned_files">print_aligned_files()</a><td><a href="ModuleCmd_Avail.c.html#func-print_aligned_files">ModuleCmd_Avail.c</a>
<tr><td>References Variables:
<td><a href="ModuleCmd_Avail.c.html#var-_file_list_cnt">_file_list_cnt</a><td><a href="ModuleCmd_Avail.c.html#var-_file_list_cnt">ModuleCmd_Avail.c</a>
<tr><td>&nbsp;
<td><a href="ModuleCmd_Avail.c.html#var-_file_list_ptr">_file_list_ptr</a><td><a href="ModuleCmd_Avail.c.html#var-_file_list_ptr">ModuleCmd_Avail.c</a>
<tr><td>&nbsp;
<td><a href="ModuleCmd_Avail.c.html#var-_file_list_rd_ndx">_file_list_rd_ndx</a><td><a href="ModuleCmd_Avail.c.html#var-_file_list_rd_ndx">ModuleCmd_Avail.c</a>
<tr><td>&nbsp;
<td><a href="ModuleCmd_Avail.c.html#var-_file_list_wr_ndx">_file_list_wr_ndx</a><td><a href="ModuleCmd_Avail.c.html#var-_file_list_wr_ndx">ModuleCmd_Avail.c</a>

</table>

<hr>
<h2><a name="func-_pick_file_list">Local Function _pick_file_list()</a></h2>
<tt>static char* _pick_file_list ( int ndx )</tt><br>
<table>
<tr><td>Prototyped in:
<td colspan=2><a href="ModuleCmd_Avail.c.html#file">ModuleCmd_Avail.c</a>
<tr><td>Called by:
<td><a href="ModuleCmd_Avail.c.html#func-print_terse_files">print_terse_files()</a><td><a href="ModuleCmd_Avail.c.html#func-print_terse_files">ModuleCmd_Avail.c</a>
<tr><td>References Variables:
<td><a href="ModuleCmd_Avail.c.html#var-_file_list_ptr">_file_list_ptr</a><td><a href="ModuleCmd_Avail.c.html#var-_file_list_ptr">ModuleCmd_Avail.c</a>
<tr><td>&nbsp;
<td><a href="ModuleCmd_Avail.c.html#var-_file_list_wr_ndx">_file_list_wr_ndx</a><td><a href="ModuleCmd_Avail.c.html#var-_file_list_wr_ndx">ModuleCmd_Avail.c</a>

</table>

<hr>
<h2><a name="func-check_cache">Local Function check_cache()</a></h2>
<pre>
 ** ** Function-Header ***************************************************** **
 ** 									     **
 **   Function:		check_cache					     **
 ** 									     **
 **   Description:	Check whether an avail cache exists and is not out   **
 **			of date						     **
 ** 									     **
 **   First Edition:	96/01/03					     **
 ** 									     **
 **   Parameters:	char	*dir		Directory to be checked	     **
 ** 									     **
 **   Result:		int	0	Do not use the cache		     **
 **				1	Use the cache			     **
 ** 									     **
 **   Attached Globals:	-						     **
 ** 									     **
 ** ************************************************************************ **
</pre>

<tt>static int check_cache ( char* dir )</tt><br>
<table>
<tr><td>Prototyped in:
<td colspan=2><a href="ModuleCmd_Avail.c.html#file">ModuleCmd_Avail.c</a>
<tr><td>Calls:
<td><a href="error.c.html#func-Module_Error">Module_Error()</a><td><a href="error.c.html#func-Module_Error">error.c</a>
<tr><td>&nbsp;
<td colspan=2>fclose(), feof(), fopen(), fscanf(), stat(), strcat(), strcpy()
<tr><td>Called by:
<td><a href="ModuleCmd_Avail.c.html#func-print_dir">print_dir()</a><td><a href="ModuleCmd_Avail.c.html#func-print_dir">ModuleCmd_Avail.c</a>
<tr><td>References Variables:
<td><a href="ModuleCmd_Avail.c.html#var-buf">buf</a><td><a href="ModuleCmd_Avail.c.html#var-buf">ModuleCmd_Avail.c</a>
<tr><td>&nbsp;
<td><a href="ModuleCmd_Avail.c.html#var-module_name">module_name</a><td><a href="ModuleCmd_Avail.c.html#var-module_name">ModuleCmd_Avail.c</a>
<tr><td>&nbsp;
<td><a href="ModuleCmd_Avail.c.html#var-namebuf">namebuf</a><td><a href="ModuleCmd_Avail.c.html#var-namebuf">ModuleCmd_Avail.c</a>

</table>

<hr>
<h2><a name="func-create_cache_list">Local Function create_cache_list()</a></h2>
<pre>
 ** ** Function-Header ***************************************************** **
 ** 									     **
 **   Function:		create_cache_list				     **
 ** 									     **
 **   Description:	Read the passed cache-file and create a list of file-**
 **			names out of it					     **
 ** 									     **
 **   First Edition:	91/10/23					     **
 ** 									     **
 **   Parameters:	FILE	*cacheinput	Opened cache file	     **
 **			int	*count		Buffer to save the number of **
 **						filename to		     **
 **			char	*module		A module pattern ...	     **
 ** 									     **
 **   Result:		char**	NULL		Abort on failure	     **
 **				else		Pointer to the just created  **
 **						list			     **
 **			*count			Number of elements in the    **
 **						list			     **
 ** 									     **
 **   Attached Globals:	-						     **
 ** 									     **
 ** ************************************************************************ **
</pre>

<tt>static char** create_cache_list ( FILE* cacheinput, int* count, char* module )</tt><br>
<table>
<tr><td>Prototyped in:
<td colspan=2><a href="ModuleCmd_Avail.c.html#file">ModuleCmd_Avail.c</a>
<tr><td>Calls:
<td><a href="error.c.html#func-Module_Error">Module_Error()</a><td><a href="error.c.html#func-Module_Error">error.c</a>
<tr><td>&nbsp;
<td colspan=2>fscanf(), malloc(), memset(), strcmp(), strdup(), strlen(), strncmp()
<tr><td>Called by:
<td><a href="ModuleCmd_Avail.c.html#func-print_dir">print_dir()</a><td><a href="ModuleCmd_Avail.c.html#func-print_dir">ModuleCmd_Avail.c</a>
<tr><td>References Variables:
<td><a href="ModuleCmd_Avail.c.html#var-buf">buf</a><td><a href="ModuleCmd_Avail.c.html#var-buf">ModuleCmd_Avail.c</a>
<tr><td>&nbsp;
<td><a href="ModuleCmd_Avail.c.html#var-module_name">module_name</a><td><a href="ModuleCmd_Avail.c.html#var-module_name">ModuleCmd_Avail.c</a>

</table>

<hr>
<h2><a name="func-fi_ent_cmp">Local Function fi_ent_cmp()</a></h2>
<pre>
 ** ** Function-Header ***************************************************** **
 ** 									     **
 **   Function:		fi_ent_cmp					     **
 ** 									     **
 **   Description:	compares two file entry structures		     **
 **			Different cmdline arguments (i.e. -u, -c, -t, -z)    **
 **			will change what value is compared. As a default,    **
 **			the name is used.				     **
 **									     **
 **   Notes:		This procedure is used as comparison function for    **
 **			qsort()					 	     **
 ** 									     **
 **   First Edition:	91/10/23					     **
 ** 									     **
 **   Parameters:	const void *fi1		First file entry	     **
 **			const void *fi2		Second one to compare	     **
 ** 									     **
 **   Result:		int	1 	fi2 &gt; fi1			     **
 **    				-1	fi2 &lt; fi1			     **
 **	  			0	fi2 == fi1			     **
 ** 									     **
 **   Attached Globals:							     **
 ** 									     **
 ** ************************************************************************ **
</pre>

<tt>static int fi_ent_cmp ( const void* fi1, const void* fi2 )</tt><br>
<table>
<tr><td>Prototyped in:
<td colspan=2><a href="ModuleCmd_Avail.c.html#file">ModuleCmd_Avail.c</a>
<tr><td>Calls:
<td colspan=2>strcmp()
<tr><td>Used in:
<td><a href="ModuleCmd_Avail.c.html#func-get_dir">get_dir()</a><td><a href="ModuleCmd_Avail.c.html#func-get_dir">ModuleCmd_Avail.c</a>

</table>

<hr>
<h2><a name="func-mkdirnm">Local Function mkdirnm()</a></h2>
<pre>
 ** ** Function-Header ***************************************************** **
 ** 									     **
 **   Function:		mkdirnm						     **
 ** 									     **
 **   Description:	Build a full pathname out of the passed directory    **
 **			and file					     **
 ** 									     **
 **   First Edition:	91/10/23					     **
 ** 									     **
 **   Parameters:	char	*dir		The directory to be used     **
 **			char	*file		The filename w/o path	     **
 ** 									     **
 **   Result:		char*	NULL		Compound filename to long    **
 **				else		Pointer to the full path     **
 ** 									     **
 **   Attached Globals:	-						     **
 ** 									     **
 ** ************************************************************************ **
</pre>

<tt>static char* mkdirnm ( char* dir, char* file )</tt><br>
<table>
<tr><td>Prototyped in:
<td colspan=2><a href="ModuleCmd_Avail.c.html#file">ModuleCmd_Avail.c</a>
<tr><td>Calls:
<td><a href="error.c.html#func-Module_Error">Module_Error()</a><td><a href="error.c.html#func-Module_Error">error.c</a>
<tr><td>&nbsp;
<td colspan=2>strcat(), strcpy(), strlen()
<tr><td>Called by:
<td><a href="ModuleCmd_Avail.c.html#func-get_dir">get_dir()</a><td><a href="ModuleCmd_Avail.c.html#func-get_dir">ModuleCmd_Avail.c</a>
<tr><td>References Variables:
<td><a href="ModuleCmd_Avail.c.html#var-module_name">module_name</a><td><a href="ModuleCmd_Avail.c.html#var-module_name">ModuleCmd_Avail.c</a>

</table>

<hr>
<h2><a name="func-print_dir">Local Function print_dir()</a></h2>
<pre>
 ** ** Function-Header ***************************************************** **
 ** 									     **
 **   Function:		print_dir					     **
 ** 									     **
 **   Description:	Print all files beyond the passed directory	     **
 ** 									     **
 **   First Edition:	91/10/23					     **
 ** 									     **
 **   Parameters:	char	*dir		Directory to be scanned	     **
 **			char	*module		A selcted module name or NULL**
 ** 									     **
 **   Result:		int	TCL_OK		Successfull operation	     **
 ** 									     **
 **   Attached Globals:	-						     **
 ** 									     **
 ** ************************************************************************ **
</pre>

<tt>static int print_dir ( Tcl_Interp* interp, char* dir, char* module )</tt><br>
<table>
<tr><td>Prototyped in:
<td colspan=2><a href="ModuleCmd_Avail.c.html#file">ModuleCmd_Avail.c</a>
<tr><td>Calls:
<td><a href="error.c.html#func-Module_Error">Module_Error()</a><td><a href="error.c.html#func-Module_Error">error.c</a>
<tr><td>&nbsp;
<td><a href="locate_module.c.html#func-SourceRC">SourceRC()</a><td><a href="locate_module.c.html#func-SourceRC">locate_module.c</a>
<tr><td>&nbsp;
<td><a href="locate_module.c.html#func-SourceVers">SourceVers()</a><td><a href="locate_module.c.html#func-SourceVers">locate_module.c</a>
<tr><td>&nbsp;
<td><a href="ModuleCmd_Avail.c.html#func-check_cache">check_cache()</a><td><a href="ModuleCmd_Avail.c.html#func-check_cache">ModuleCmd_Avail.c</a>
<tr><td>&nbsp;
<td><a href="ModuleCmd_Avail.c.html#func-create_cache_list">create_cache_list()</a><td><a href="ModuleCmd_Avail.c.html#func-create_cache_list">ModuleCmd_Avail.c</a>
<tr><td>&nbsp;
<td><a href="ModuleCmd_Avail.c.html#func-delete_cache_list">delete_cache_list()</a><td><a href="ModuleCmd_Avail.c.html#func-delete_cache_list">ModuleCmd_Avail.c</a>
<tr><td>&nbsp;
<td><a href="ModuleCmd_Avail.c.html#func-delete_dirlst">delete_dirlst()</a><td><a href="ModuleCmd_Avail.c.html#func-delete_dirlst">ModuleCmd_Avail.c</a>
<tr><td>&nbsp;
<td><a href="ModuleCmd_Avail.c.html#func-dirlst_to_list">dirlst_to_list()</a><td><a href="ModuleCmd_Avail.c.html#func-dirlst_to_list">ModuleCmd_Avail.c</a>
<tr><td>&nbsp;
<td><a href="ModuleCmd_Avail.c.html#func-get_dir">get_dir()</a><td><a href="ModuleCmd_Avail.c.html#func-get_dir">ModuleCmd_Avail.c</a>
<tr><td>&nbsp;
<td><a href="ModuleCmd_Avail.c.html#func-print_aligned_files">print_aligned_files()</a><td><a href="ModuleCmd_Avail.c.html#func-print_aligned_files">ModuleCmd_Avail.c</a>
<tr><td>&nbsp;
<td><a href="ModuleCmd_Avail.c.html#func-store_files">store_files()</a><td><a href="ModuleCmd_Avail.c.html#func-store_files">ModuleCmd_Avail.c</a>
<tr><td>&nbsp;
<td colspan=2>fclose(), fopen(), fprintf(), malloc(), memset(), strcat(), strchr(), strcpy(), strlen(), umask()
<tr><td>Called by:
<td><a href="ModuleCmd_Avail.c.html#func-ModuleCmd_Avail">ModuleCmd_Avail()</a><td><a href="ModuleCmd_Avail.c.html#func-ModuleCmd_Avail">ModuleCmd_Avail.c</a>
<tr><td>References Variables:
<td><a href="ModuleCmd_Avail.c.html#var-module_name">module_name</a><td><a href="ModuleCmd_Avail.c.html#var-module_name">ModuleCmd_Avail.c</a>
<tr><td>&nbsp;
<td><a href="main.c.html#var-modulerc_file">modulerc_file</a><td><a href="main.c.html#var-modulerc_file">main.c</a>
<tr><td>&nbsp;
<td><a href="ModuleCmd_Avail.c.html#var-namebuf">namebuf</a><td><a href="ModuleCmd_Avail.c.html#var-namebuf">ModuleCmd_Avail.c</a>
<tr><td>&nbsp;
<td><a href="main.c.html#var-sw_create">sw_create</a><td><a href="main.c.html#var-sw_create">main.c</a>
<tr><td>&nbsp;
<td><a href="main.c.html#var-sw_format">sw_format</a><td><a href="main.c.html#var-sw_format">main.c</a>

</table>

<hr>
<h2><a name="func-print_spaced_file">Local Function print_spaced_file()</a></h2>
<pre>
 ** ** Function-Header ***************************************************** **
 ** 									     **
 **   Function:		print_spaced_file				     **
 ** 									     **
 **   Description:	Print out the passed filename and fill the output    **
 **			area up to the passed number of characters	     **
 ** 									     **
 **   First Edition:	91/10/23					     **
 ** 									     **
 **   Parameters:	char	*name		Name to be printed	     **
 **			int	 maxwidth	With of the output field to  **
 **						be filled up		     **
 **			int	 space		Boolean value controlling if **
 **						the output area should be    **
 **						filled up with spaces or not **
 **			int	 number		value to start number list   **
 ** 						use -1 for none		     **
 ** 									     **
 **   Result:		-						     **
 ** 									     **
 **   Attached Globals:	-						     **
 ** 									     **
 ** ************************************************************************ **
</pre>

<tt>static void print_spaced_file ( char* name, int maxwidth, int space, int number )</tt><br>
<table>
<tr><td>Prototyped in:
<td colspan=2><a href="ModuleCmd_Avail.c.html#file">ModuleCmd_Avail.c</a>
<tr><td>Calls:
<td><a href="utility.c.html#func-chk4spch">chk4spch()</a><td><a href="utility.c.html#func-chk4spch">utility.c</a>
<tr><td>&nbsp;
<td colspan=2>_IO_putc(), fprintf(), strlen()
<tr><td>Called by:
<td><a href="ModuleCmd_Avail.c.html#func-print_terse_files">print_terse_files()</a><td><a href="ModuleCmd_Avail.c.html#func-print_terse_files">ModuleCmd_Avail.c</a>

</table>

<hr>
<h2><a name="func-print_terse_files">Local Function print_terse_files()</a></h2>
<pre>
 ** ** Function-Header ***************************************************** **
 ** 									     **
 **   Function:		print_terse_files				     **
 ** 									     **
 **   Description:	Print out the filenames in the _file_list array in   **
 **			case of terse output 				     **
 ** 									     **
 **   First Edition:	91/10/23					     **
 ** 									     **
 **   Parameters:	int	  terminal_width	Terminal size	     **
 **			int	  len			max. filename length **
 **			char	 *header		header to print	     **
 **			int	  number		value to start number**
 ** 							use -1 for none	     **
 ** 									     **
 **   Result:		-						     **
 ** 									     **
 **   Attached Globals:	-						     **
 ** 									     **
 ** ************************************************************************ **
</pre>

<tt>static void print_terse_files ( int terminal_width, int len, char* header, int numbered )</tt><br>
<table>
<tr><td>Prototyped in:
<td colspan=2><a href="ModuleCmd_Avail.c.html#file">ModuleCmd_Avail.c</a>
<tr><td>Calls:
<td><a href="ModuleCmd_Avail.c.html#func-_get_file_list">_get_file_list()</a><td><a href="ModuleCmd_Avail.c.html#func-_get_file_list">ModuleCmd_Avail.c</a>
<tr><td>&nbsp;
<td><a href="ModuleCmd_Avail.c.html#func-_pick_file_list">_pick_file_list()</a><td><a href="ModuleCmd_Avail.c.html#func-_pick_file_list">ModuleCmd_Avail.c</a>
<tr><td>&nbsp;
<td><a href="ModuleCmd_Avail.c.html#func-print_spaced_file">print_spaced_file()</a><td><a href="ModuleCmd_Avail.c.html#func-print_spaced_file">ModuleCmd_Avail.c</a>
<tr><td>&nbsp;
<td colspan=2>fprintf(), strlen()
<tr><td>Called by:
<td><a href="ModuleCmd_Avail.c.html#func-print_aligned_files">print_aligned_files()</a><td><a href="ModuleCmd_Avail.c.html#func-print_aligned_files">ModuleCmd_Avail.c</a>
<tr><td>References Variables:
<td><a href="ModuleCmd_Avail.c.html#var-_file_list_wr_ndx">_file_list_wr_ndx</a><td><a href="ModuleCmd_Avail.c.html#var-_file_list_wr_ndx">ModuleCmd_Avail.c</a>
<tr><td>&nbsp;
<td><a href="main.c.html#var-sw_format">sw_format</a><td><a href="main.c.html#var-sw_format">main.c</a>

</table>

<hr>
<h2><a name="func-store_dirlst">Local Function store_dirlst()</a></h2>
<pre>
 ** ** Function-Header ***************************************************** **
 ** 									     **
 **   Function:		store_dirlst					     **
 ** 									     **
 **   Description:	Write the contents of a cache file		     **
 ** 									     **
 **   First Edition:	91/10/23					     **
 ** 									     **
 **   Parameters:	FILE	*cacheoutput	Output stream to be used     **
 **			FILE	*cacheinfo	Cache log file to be written **
 **			fi_ent	*dirlist_head	List of files to be printed  **
 **			int	 count		Number of entries in the pas-**
 **						sed 'dirlist'		     **
 **   Result:		-						     **
 ** 									     **
 **   Attached Globals:	-						     **
 ** 									     **
 ** ************************************************************************ **
</pre>

<tt>static void store_dirlst ( FILE* cacheinfo, FILE* cacheoutput, fi_ent* dirlst_head, int count, char* dir )</tt><br>
<table>
<tr><td>Prototyped in:
<td colspan=2><a href="ModuleCmd_Avail.c.html#file">ModuleCmd_Avail.c</a>
<tr><td>Calls:
<td><a href="ModuleCmd_Avail.c.html#func-store_dirlst">store_dirlst()</a><td><a href="ModuleCmd_Avail.c.html#func-store_dirlst">ModuleCmd_Avail.c</a>
<tr><td>&nbsp;
<td><a href="ModuleCmd_Avail.c.html#func-store_file">store_file()</a><td><a href="ModuleCmd_Avail.c.html#func-store_file">ModuleCmd_Avail.c</a>
<tr><td>&nbsp;
<td colspan=2>fprintf()
<tr><td>Called by:
<td><a href="ModuleCmd_Avail.c.html#func-store_dirlst">store_dirlst()</a><td><a href="ModuleCmd_Avail.c.html#func-store_dirlst">ModuleCmd_Avail.c</a>
<tr><td>&nbsp;
<td><a href="ModuleCmd_Avail.c.html#func-store_files">store_files()</a><td><a href="ModuleCmd_Avail.c.html#func-store_files">ModuleCmd_Avail.c</a>

</table>

<hr>
<h2><a name="func-store_file">Local Function store_file()</a></h2>
<pre>
 ** ** Function-Header ***************************************************** **
 ** 									     **
 **   Function:		store_file					     **
 ** 									     **
 **   Description:	Store the name of the file passed as 'file entry' to **
 **			the specified output stream if it isn't a temp file  **
 ** 									     **
 **   First Edition:	91/10/23					     **
 ** 									     **
 **   Parameters:	FILE	*cacheoutput	Output stream to be used     **
 **			char	*dir		The current directory	     **
 **			fi_ent	*file		According file		     **
 ** 									     **
 **   Result:		-						     **
 ** 									     **
 **   Attached Globals:	-						     **
 ** 									     **
 ** ************************************************************************ **
</pre>

<tt>static void store_file ( FILE* cacheoutput, char* dir, fi_ent* file )</tt><br>
<table>
<tr><td>Prototyped in:
<td colspan=2><a href="ModuleCmd_Avail.c.html#file">ModuleCmd_Avail.c</a>
<tr><td>Calls:
<td><a href="utility.c.html#func-chk4spch">chk4spch()</a><td><a href="utility.c.html#func-chk4spch">utility.c</a>
<tr><td>&nbsp;
<td colspan=2>fprintf(), strlen()
<tr><td>Called by:
<td><a href="ModuleCmd_Avail.c.html#func-store_dirlst">store_dirlst()</a><td><a href="ModuleCmd_Avail.c.html#func-store_dirlst">ModuleCmd_Avail.c</a>

</table>

<hr>
<h2><a name="func-store_files">Local Function store_files()</a></h2>
<pre>
 ** ** Function-Header ***************************************************** **
 ** 									     **
 **   Function:		store_files					     **
 ** 									     **
 **   Description:	Write a cache file using the given directory list    **
 ** 									     **
 **   First Edition:	91/10/23					     **
 ** 									     **
 **   Parameters: 	fi_ent	*dirlist_head	List of files to be printed  **
 **			int	 count		Number of entries in the pas-**
 **						sed 'dirlist'		     **
 **			int	 tcount		Number of entries to write to**
 **						the cache file. This id the  **
 **						total number of files stores **
 **						in the nested directory lists**
 **			char	*dir		The current directory	     **
 **									     **
 **   Result:		-						     **
 ** 									     **
 **   Attached Globals:	-						     **
 ** 									     **
 ** ************************************************************************ **
</pre>

<tt>static void store_files ( fi_ent* dirlst_head, int count, int tcount, char* dir )</tt><br>
<table>
<tr><td>Prototyped in:
<td colspan=2><a href="ModuleCmd_Avail.c.html#file">ModuleCmd_Avail.c</a>
<tr><td>Calls:
<td><a href="error.c.html#func-Module_Error">Module_Error()</a><td><a href="error.c.html#func-Module_Error">error.c</a>
<tr><td>&nbsp;
<td><a href="ModuleCmd_Avail.c.html#func-store_dirlst">store_dirlst()</a><td><a href="ModuleCmd_Avail.c.html#func-store_dirlst">ModuleCmd_Avail.c</a>
<tr><td>&nbsp;
<td colspan=2>fclose(), fopen(), fprintf(), strcat(), strcpy()
<tr><td>Called by:
<td><a href="ModuleCmd_Avail.c.html#func-print_dir">print_dir()</a><td><a href="ModuleCmd_Avail.c.html#func-print_dir">ModuleCmd_Avail.c</a>
<tr><td>References Variables:
<td><a href="ModuleCmd_Avail.c.html#var-module_name">module_name</a><td><a href="ModuleCmd_Avail.c.html#var-module_name">ModuleCmd_Avail.c</a>
<tr><td>&nbsp;
<td><a href="ModuleCmd_Avail.c.html#var-namebuf">namebuf</a><td><a href="ModuleCmd_Avail.c.html#var-namebuf">ModuleCmd_Avail.c</a>

</table>

</BODY>
</HTML>
